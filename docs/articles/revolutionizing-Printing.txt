2:I[5015,["173","static/chunks/173-b204d83f201b7686.js","921","static/chunks/app/articles/revolutionizing-Printing/page-4d22fc56f8a8a451.js"],"ArticleLayout"]
3:I[8173,["173","static/chunks/173-b204d83f201b7686.js","921","static/chunks/app/articles/revolutionizing-Printing/page-4d22fc56f8a8a451.js"],"Image"]
6:I[9275,[],""]
7:I[1343,[],""]
8:I[1747,["501","static/chunks/c16f53c3-4935902af006763a.js","173","static/chunks/173-b204d83f201b7686.js","231","static/chunks/231-64832476adfdc626.js","961","static/chunks/961-10a3fba2c38e10ec.js","185","static/chunks/app/layout-40ae84bf1599fae2.js"],"Providers"]
9:I[2731,["501","static/chunks/c16f53c3-4935902af006763a.js","173","static/chunks/173-b204d83f201b7686.js","231","static/chunks/231-64832476adfdc626.js","961","static/chunks/961-10a3fba2c38e10ec.js","185","static/chunks/app/layout-40ae84bf1599fae2.js"],"Header"]
a:I[231,["173","static/chunks/173-b204d83f201b7686.js","231","static/chunks/231-64832476adfdc626.js","222","static/chunks/app/articles/page-227a1058e0b8f325.js"],""]
b:I[1164,["501","static/chunks/c16f53c3-4935902af006763a.js","173","static/chunks/173-b204d83f201b7686.js","231","static/chunks/231-64832476adfdc626.js","961","static/chunks/961-10a3fba2c38e10ec.js","185","static/chunks/app/layout-40ae84bf1599fae2.js"],"Analytics"]
4:T491,import serial
import time
import os

SERIAL_PORT = 'COM4'
BAUD_RATE = 38400
GCODE_FILE = 'path/to/file.gcode'

def send_gcode_line(line, printer):
    printer.write(f"{line}\n".encode('utf-8'))
    printer.flush()
    response = printer.readline().decode('utf-8').strip()
    print(f"Response: {response}")

def monitor_and_print():
    last_position = 0

    try:
        with serial.Serial(SERIAL_PORT, BAUD_RATE, timeout=5) as printer:
            time.sleep(2)
            print("Connected to the printer.")

            while True:
                with open(GCODE_FILE, 'r') as gcode_file:
                    gcode_file.seek(last_position)
                    new_lines = gcode_file.readlines()

                    for line in new_lines:
                        line = line.strip()
                        if line and not line.startswith(';'):
                            print(f"Sending: {line}")
                            send_gcode_line(line, printer)

                    last_position = gcode_file.tell()

                time.sleep(1)
    except Exception as e:
        print(f"An error occurred: {e}")

if __name__ == "__main__":
    monitor_and_print()5:T537,import os
import time
import serial

GCODE_FILE = r'C:\path\to\your\gcode_file.gcode'
SERIAL_PORT = 'COM4'
BAUD_RATE = 38400

def send_gcode_batch(gcode_lines, printer):
    for line in gcode_lines:
        line = line.strip()
        if line and not line.startswith(';'):
            printer.write(f"{line}\n".encode('utf-8'))
    printer.flush()

def monitor_and_print_fast():
    try:
        with serial.Serial(SERIAL_PORT, BAUD_RATE, timeout=5) as printer:
            time.sleep(2)
            print("Connected to the printer.")

            last_modified_time = 0

            while True:
                current_modified_time = os.path.getmtime(GCODE_FILE)
                if current_modified_time > last_modified_time:
                    last_modified_time = current_modified_time
                    print(f"File modified. Reloading...")

                    with open(GCODE_FILE, 'r') as gcode_file:
                        gcode_lines = gcode_file.readlines()
                        print(f"Sending {len(gcode_lines)} lines...")
                        send_gcode_batch(gcode_lines, printer)

                    print("All commands sent.")
                else:
                    time.sleep(1)
    except Exception as e:
        print(f"An error occurred: {e}")

if __name__ == "__main__":
    monitor_and_print_fast()0:["DPu1LaajMPIA6fgHdW6gj",[[["",{"children":["articles",{"children":["revolutionizing-Printing",{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",{"children":["articles",{"children":["revolutionizing-Printing",{"children":["__PAGE__",{},[["$L1",["$","$L2",null,{"article":{"author":"Hirusha Maduwantha","date":"2024-12-24","title":"Revolutionizing 3D Printing: Overcoming G-code Limitations with Dynamic Control","description":"3D printing has become a cornerstone of modern manufacturing and prototyping, but it still has its quirks and limitations. One of the most significant issues I’ve encountered is the inability to modify G-code once a print job has started. This limitation often leaves users unable to make necessary adjustments mid-print, such as altering settings, inserting hardware, or addressing errors."},"children":["$","section",null,{"className":"mt-8 space-y-6","children":[["$","h2",null,{"className":"text-2xl font-semibold","children":"Exploring Real-Time G-code Adjustments to Enhance 3D Printing Flexibility and Address Common Limitations in Existing Systems"}],["$","figure",null,{"className":"mx-auto max-w-3xl","children":[["$","$L3",null,{"src":{"src":"/_next/static/media/image3.8dc6f550.webp","height":480,"width":720,"blurDataURL":"data:image/webp;base64,UklGRkwAAABXRUJQVlA4IEAAAACwAQCdASoIAAUAAkA4JQBOgCHM/lRwAP7PgX9XV+vF7M4YjHsYsnjnRKfBknQ1ylvvDyjX4c6Ayz+0WXn8AAAA","blurWidth":8,"blurHeight":5},"alt":"3D printer under operation","className":"mx-auto rounded-md"}],["$","figcaption",null,{"className":"mt-2 text-center text-sm text-zinc-500 dark:text-zinc-400","children":"Photo by Jakub Żerdzicki on Unsplash"}]]}],["$","h3",null,{"className":"text-xl font-semibold","children":"Introduction"}],["$","p",null,{"children":["3D printing has become a cornerstone of modern manufacturing and prototyping, but it still carries significant constraints. One of the biggest limitations is the"," ",["$","strong",null,{"children":"inability to modify G-code once a print job has started"}],"."]}],["$","p",null,{"children":"This creates issues such as:"}],["$","ul",null,{"className":"list-disc space-y-1 pl-6","children":[["$","li",null,{"children":"inability to add or change settings mid-print"}],["$","li",null,{"children":"difficulty inserting hardware inside prints"}],["$","li",null,{"children":"no easy way to correct errors without restarting"}]]}],["$","p",null,{"children":["To address this, I began experimenting with"," ",["$","strong",null,{"children":"real-time G-code control"}],", exploring ways to bypass static G-code files and interact directly with the printer during operation."]}],["$","div",null,{"className":"my-6 h-px bg-zinc-800"}],["$","h3",null,{"className":"text-xl font-semibold","children":"Understanding the Current Landscape"}],["$","p",null,{"children":"Before building my own solution, I studied existing tools and resources."}],["$","h4",null,{"className":"text-lg font-semibold","children":"Prusa Knowledge Base"}],["$","p",null,{"children":"PrusaSlicer allows inserting pauses or custom G-code at specific layers. This is useful for:"}],["$","ul",null,{"className":"list-disc space-y-1 pl-6","children":[["$","li",null,{"children":"filament color swaps"}],["$","li",null,{"children":"embedding nuts, magnets, and bearings"}]]}],["$","h4",null,{"className":"text-lg font-semibold","children":"Community Forums"}],["$","p",null,{"children":"Prusa3D forums contain scripts, tips, and user hacks for mid-print changes."}],["$","h4",null,{"className":"text-lg font-semibold","children":"Reddit Discussions"}],["$","p",null,{"children":"Users often share practical mid-print modification methods, including:"}],["$","ul",null,{"className":"list-disc space-y-1 pl-6","children":[["$","li",null,{"children":"real-time filament swaps"}],["$","li",null,{"children":"pausing to embed hardware"}]]}],["$","p",null,{"children":"These insights helped shape a better understanding of the problem and the limitations of current tools."}],["$","div",null,{"className":"my-6 h-px bg-zinc-800"}],["$","h3",null,{"className":"text-xl font-semibold","children":"Key Considerations for Dynamic G-code Adjustment"}],["$","h4",null,{"className":"text-lg font-semibold","children":"✔ Firmware Compatibility"}],["$","p",null,{"children":"Not all printers allow:"}],["$","ul",null,{"className":"list-disc space-y-1 pl-6","children":[["$","li",null,{"children":"pausing and resuming safely"}],["$","li",null,{"children":"buffer flushing"}],["$","li",null,{"children":"arbitrary G-code injection"}]]}],["$","h4",null,{"className":"text-lg font-semibold","children":"✔ Software Tools"}],["$","p",null,{"children":"Tools like PrusaSlicer, OrcaSlicer, or Cura allow scripted pauses and small custom G-code insertions, but they still rely on a static file."}],["$","h4",null,{"className":"text-lg font-semibold","children":"✔ Manual G-code Editing"}],["$","p",null,{"children":"Advanced users can edit G-code manually, but this requires good knowledge of:"}],["$","ul",null,{"className":"list-disc space-y-1 pl-6","children":[["$","li",null,{"children":"G-code syntax and semantics"}],["$","li",null,{"children":"the printer's motion planning behavior"}],["$","li",null,{"children":"how the firmware manages command buffers"}]]}],["$","p",null,{"children":"All of this led me to explore something new…"}],["$","div",null,{"className":"my-6 h-px bg-zinc-800"}],["$","h3",null,{"className":"text-xl font-semibold","children":"My Approach: Real-time G-code Transmission with Python"}],["$","p",null,{"children":["To bypass the limitations of existing slicers, I experimented with"," ",["$","strong",null,{"children":"sending G-code dynamically using Python and pyserial"}],", communicating directly with the printer over a serial connection."]}],["$","h4",null,{"className":"text-lg font-semibold","children":"Step 1 — Sending Simple G-code"}],["$","pre",null,{"className":"overflow-x-auto rounded-lg bg-zinc-900 p-4 text-sm text-zinc-100","children":["$","code",null,{"className":"language-python","children":"import serial\nimport time\n\n# Configuration\nSERIAL_PORT = 'COM4'  # Replace with your printer's serial port\nBAUD_RATE = 38400    # Adjust to your printer's baud rate\n\ndef send_gcode_command(command, printer):\n    \"\"\"Send a G-code command to the 3D printer.\"\"\"\n    printer.write(f\"{command}\\n\".encode('utf-8'))\n    printer.flush()\n    while True:\n        response = printer.readline().decode('utf-8').strip()\n        print(f\"Response: {response}\")\n        if response == \"ok\":\n            break\n\ndef main():\n    try:\n        with serial.Serial(SERIAL_PORT, BAUD_RATE, timeout=5) as printer:\n            time.sleep(2)\n            print(\"Connected to the printer.\")\n            \n            send_gcode_command(\"G28\", printer)  # Home all axes\n            send_gcode_command(\"G1 X10 Y10 Z10 F3000\", printer)  # Move\n                \n            print(\"Commands sent successfully.\")\n    except Exception as e:\n        print(f\"An error occurred: {e}\")\n\nif __name__ == \"__main__\":\n    main()"}]}],["$","h5",null,{"className":"font-semibold","children":"Lesson learned"}],["$","p",null,{"children":["Using the wrong baud rate leads to freezing, ignored commands, and random disconnections. Choosing the"," ",["$","strong",null,{"children":"correct baud rate"}]," makes communication much smoother."]}],["$","div",null,{"className":"my-6 h-px bg-zinc-800"}],["$","h4",null,{"className":"text-lg font-semibold","children":"Step 2 — Sending G-code Line-by-Line"}],["$","pre",null,{"className":"overflow-x-auto rounded-lg bg-zinc-900 p-4 text-sm text-zinc-100","children":["$","code",null,{"className":"language-python","children":"$4"}]}],["$","p",null,{"children":["This approach works, but motion can feel jerky because each line waits for an ",["$","code",null,{"children":"ok"}]," response before sending the next one."]}],["$","div",null,{"className":"my-6 h-px bg-zinc-800"}],["$","h4",null,{"className":"text-lg font-semibold","children":"Step 3 — Sending G-code in Batches (Much Faster)"}],["$","pre",null,{"className":"overflow-x-auto rounded-lg bg-zinc-900 p-4 text-sm text-zinc-100","children":["$","code",null,{"className":"language-python","children":"$5"}]}],["$","p",null,{"children":["With batched sending, movements become ",["$","strong",null,{"children":"smoother"}]," and execution is ",["$","strong",null,{"children":"faster"}],". However, occasional freezes still occur."]}],["$","h5",null,{"className":"font-semibold","children":"Likely causes"}],["$","ul",null,{"className":"list-disc space-y-1 pl-6","children":[["$","li",null,{"children":"buffer overflow in the printer firmware"}],["$","li",null,{"children":["missing ",["$","code",null,{"children":"ok"}]," acknowledgments"]}],["$","li",null,{"children":"flow control and timing issues"}]]}],["$","div",null,{"className":"my-6 h-px bg-zinc-800"}],["$","h3",null,{"className":"text-xl font-semibold","children":"Challenges & Future Work"}],["$","h4",null,{"className":"text-lg font-semibold","children":"Buffer Overflows"}],["$","p",null,{"children":"Sending too much G-code too quickly can overwhelm the printer's internal command queue."}],["$","h4",null,{"className":"text-lg font-semibold","children":"Real-Time Reactivity"}],["$","p",null,{"children":"A proper UI or control interface is needed to pause, modify, and resume print jobs dynamically, without manually editing G-code files."}],["$","h4",null,{"className":"text-lg font-semibold","children":"Firmware Differences"}],["$","p",null,{"children":"Different firmware (Marlin, Klipper, Repetier, etc.) handles command buffers and acknowledgements in different ways, so a robust solution must account for these differences."}],["$","div",null,{"className":"my-6 h-px bg-zinc-800"}],["$","h3",null,{"className":"text-xl font-semibold","children":"Conclusion"}],["$","p",null,{"children":["This exploration demonstrates that"," ",["$","strong",null,{"children":"dynamic G-code control is absolutely possible"}],", but it requires careful management of:"]}],["$","ul",null,{"className":"list-disc space-y-1 pl-6","children":[["$","li",null,{"children":"serial communication timing"}],["$","li",null,{"children":"printer firmware behavior"}],["$","li",null,{"children":"command buffering and flow control"}]]}],["$","p",null,{"children":"I'm excited to keep refining this system and move toward a more flexible, adaptive, and interactive 3D printing workflow."}],["$","p",null,{"children":[["$","strong",null,{"children":"Have you tried modifying G-code mid-print?"}]," I'd love to hear your experiences and ideas for making real-time control even more reliable."]}]]}]}]],null],null]},["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children","articles","children","revolutionizing-Printing","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L7",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children","articles","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L7",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},[["$","html",null,{"lang":"en","className":"h-full antialiased","suppressHydrationWarning":true,"children":["$","body",null,{"className":"flex h-full bg-zinc-50 dark:bg-black","children":["$","$L8",null,{"children":["$","div",null,{"className":"flex w-full","children":[["$","div",null,{"className":"fixed inset-0 flex justify-center sm:px-8","children":["$","div",null,{"className":"flex w-full max-w-7xl lg:px-8","children":["$","div",null,{"className":"w-full bg-white ring-1 ring-zinc-100 dark:bg-zinc-900 dark:ring-zinc-300/20"}]}]}],["$","div",null,{"className":"relative flex w-full flex-col","children":[["$","$L9",null,{}],["$","main",null,{"className":"flex-auto","children":[["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L7",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":["$","div",null,{"className":"sm:px-8 flex h-full items-center pt-16 sm:pt-32","children":["$","div",null,{"className":"mx-auto w-full max-w-7xl lg:px-8","children":["$","div",null,{"className":"relative px-4 sm:px-8 lg:px-12","children":["$","div",null,{"className":"mx-auto max-w-2xl lg:max-w-5xl","children":["$","div",null,{"className":"flex flex-col items-center","children":[["$","p",null,{"className":"text-base font-semibold text-zinc-400 dark:text-zinc-500","children":"404"}],["$","h1",null,{"className":"mt-4 text-4xl font-bold tracking-tight text-zinc-800 sm:text-5xl dark:text-zinc-100","children":"Page not found"}],["$","p",null,{"className":"mt-4 text-base text-zinc-600 dark:text-zinc-400","children":"Sorry, we couldn’t find the page you’re looking for."}],["$","$La",null,{"className":"inline-flex items-center gap-2 justify-center rounded-md py-2 px-3 text-sm outline-offset-2 transition active:transition-none bg-zinc-50 font-medium text-zinc-900 hover:bg-zinc-100 active:bg-zinc-100 active:text-zinc-900/60 dark:bg-zinc-800/50 dark:text-zinc-300 dark:hover:bg-zinc-800 dark:hover:text-zinc-50 dark:active:bg-zinc-800/50 dark:active:text-zinc-50/70 mt-4","href":"/","children":"Go back home"}]]}]}]}]}]}],"notFoundStyles":[],"styles":null}],["$","$Lb",null,{}]]}],["$","footer",null,{"className":"mt-32 flex-none","children":["$","div",null,{"className":"sm:px-8","children":["$","div",null,{"className":"mx-auto w-full max-w-7xl lg:px-8","children":["$","div",null,{"className":"border-t border-zinc-100 pb-16 pt-10 dark:border-zinc-700/40","children":["$","div",null,{"className":"relative px-4 sm:px-8 lg:px-12","children":["$","div",null,{"className":"mx-auto max-w-2xl lg:max-w-5xl","children":["$","div",null,{"className":"flex flex-col items-center justify-between gap-6 sm:flex-row","children":[["$","div",null,{"className":"flex flex-wrap justify-center gap-x-6 gap-y-1 text-sm font-medium text-zinc-800 dark:text-zinc-200","children":[["$","$La",null,{"href":"/about","className":"transition hover:text-blue-500 dark:hover:text-blue-400","children":"About"}],["$","$La",null,{"href":"/projects","className":"transition hover:text-blue-500 dark:hover:text-blue-400","children":"Projects"}],["$","$La",null,{"href":"/articles","className":"transition hover:text-blue-500 dark:hover:text-blue-400","children":"Articles"}],["$","$La",null,{"href":"/conference","className":"transition hover:text-blue-500 dark:hover:text-blue-400","children":"Conference"}],["$","$La",null,{"href":"/certifications","className":"transition hover:text-blue-500 dark:hover:text-blue-400","children":"Certifications"}],["$","$La",null,{"href":"/contact","className":"transition hover:text-blue-500 dark:hover:text-blue-400","children":"Contact"}]]}],["$","p",null,{"className":"text-sm text-zinc-400 dark:text-zinc-500","children":["© ",2025," Hirusha Maduwantha. All rights reserved."]}]]}]}]}]}]}]}]}]]}]]}]}]}]}],null],null],[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/c02e36286c7c2eba.css","precedence":"next","crossOrigin":"$undefined"}]],"$Lc"]]]]
c:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"Revolutionizing 3D Printing: Overcoming G-code Limitations with Dynamic Control - Hirusha Maduwantha"}],["$","meta","3",{"name":"description","content":"3D printing has become a cornerstone of modern manufacturing and prototyping, but it still has its quirks and limitations. One of the most significant issues I’ve encountered is the inability to modify G-code once a print job has started. This limitation often leaves users unable to make necessary adjustments mid-print, such as altering settings, inserting hardware, or addressing errors."}],["$","link","4",{"rel":"alternate","type":"application/rss+xml","href":"https://hirushamaduwantha.com/feed.xml"}],["$","link","5",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"256x256"}]]
1:null
